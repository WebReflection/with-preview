!function(){"use strict";
/*! (c) Andrea Giammarchi @webreflection */
const{customElements:e,getComputedStyle:t,IntersectionObserver:n}=window,i="with-preview";if(!e.get(i)){const a=e=>{e.src=e.src.replace(/\.preview(\.jpe?g(?:\?.*)?)$/,"$1")};let o=a;if(n){const e={once:!0},s=({target:t})=>{t.addEventListener("transitionend",l,e),t.style.opacity=1},r=({target:e})=>{const{parentElement:n}=e;if(n.tagName.toLowerCase()===i){const{width:i,height:a}=t(e);n.style.cssText+=";width:"+i+";height:"+a,c.observe(e.nextSibling)}},l=({target:e})=>{const{parentElement:t}=e;t.parentElement.replaceChild(e,t)},c=new n(t=>{for(let n=0,{length:i}=t;n<i;n++){const{isIntersecting:i,target:o}=t[n];i&&(c.unobserve(o),o.addEventListener("load",s,e),a(o))}},{threshold:.2});o=n=>{if(!n.dataset.preview){n.dataset.preview=1;const{marginTop:a,marginRight:o,marginBottom:s,marginLeft:l}=t(n),{height:c,parentElement:d}=n,p=document.createElement(i),g=n.cloneNode(!0);p.style.cssText=";margin-top:"+a+";margin-right:"+o+";margin-bottom:"+s+";margin-left:"+l,d.replaceChild(p,n),p.appendChild(n),p.appendChild(g),c?r({target:n}):n.addEventListener("load",r,e)}},function(e){const t="string"==typeof e?[e]:[e[0]];for(let n=1,{length:i}=arguments;n<i;n++)t.push(arguments[n],e[n]);const n=document.createElement("style");n.type="text/css",n.appendChild(document.createTextNode(t.join(""))),document.head.appendChild(n)}(i+"{position:relative;display:inline-block;padding:0;}"+i+">img{position:absolute;top:0;left:0;margin:0;}"+i+">img:last-child{opacity:0;transition:opacity 1s ease-in;will-change:opacity;}")}e.define(i,class extends HTMLImageElement{connectedCallback(){o(this)}},{extends:"img"})}}();
